<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' https://fonts.googleapis.com; 
                   style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
                   img-src 'self' data: https://fonts.gstatic.com;
                   font-src 'self' https://fonts.gstatic.com;
                   connect-src 'self'">
    <title>–•—Ä–æ–Ω–∏–∫–∏ –≠–ª–¥—Ä–∏–∞–Ω–∞</title>
    
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="/backgrounds/main_menu.webp" as="image" fetchpriority="high">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div id="main-menu" class="main-menu">
        <h1>–•—Ä–æ–Ω–∏–∫–∏ –≠–ª–¥—Ä–∏–∞–Ω–∞</h1>
        <button id="start-game-btn" class="main-btn">–ù–∞—á–∞—Ç—å –ü—É—Ç—å</button>
        <button id="load-btn" class="main-btn" disabled>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        <button id="endings-btn" class="main-btn">–ì–∞–ª–µ—Ä–µ—è –∫–æ–Ω—Ü–æ–≤–æ–∫</button>
    </div>

    <div id="game-container" class="hidden" data-game-container>
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-container" data-stats-container>
            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
            <div class="stats-box">
                <div class="stat-item highlight">
                    <span>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: <span id="health-value">100</span>%</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="health-bar" style="width: 100%"></div>
                    </div>
                </div>
                <div class="stat-item">
                    <span>‚ú® –ú–∞–≥–∏—è: <span id="magic-value">0</span></span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="magic-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="stat-item">
                    <span>üß† –†–∞—Å—Å—É–¥–æ–∫: <span id="sanity-value">10</span>/10</span>
                </div>
                <div class="stat-item">
                    <span>‚òØÔ∏è –°—É–¥—å–±–∞: <span id="fate-value">0</span>/10</span>
                </div>
            </div>

            <!-- –í—Ç–æ—Ä–∏—á–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
            <div class="stat-grid">
                <div class="stat-item">
                    <span>üí∞ –ó–æ–ª–æ—Ç–æ: <span id="gold-value">10</span></span>
                </div>
                <div class="stat-item">
                    <span>‚öîÔ∏è –ë–æ–µ–≤–æ–π –Ω–∞–≤—ã–∫: <span id="combat-value">0</span></span>
                </div>
                <div class="stat-item">
                    <span>üîç –ü—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: <span id="insight-value">0</span></span>
                </div>
                <div class="stat-item">
                    <span>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: <span id="inventory-count">0/10</span></span>
                </div>
            </div>

            <!-- –û—Ç–Ω–æ—à–µ–Ω–∏—è -->
            <div class="stat-grid">
                <div class="stat-item">
                    <span>ü§ù –î–æ–≤–µ—Ä–∏–µ –õ–∏—Ä—ã: <span id="lira-trust">0</span></span>
                    <div class="faction-status" id="lira-status">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ</div>
                </div>
                <div class="stat-item">
                    <span>üõ°Ô∏è –î–æ–≤–µ—Ä–∏–µ –ö–∞–ª–µ–±–∞: <span id="kyle-trust">0</span></span>
                </div>
                <div class="stat-item">
                    <span>üåø –î–æ–≤–µ—Ä–∏–µ –≠–ª–∏–Ω—ã: <span id="elina-trust">0</span></span>
                </div>
                <div class="stat-item">
                    <span>‚öñÔ∏è –ú–æ—Ä–∞–ª—å: <span id="moral-value">50</span></span>
                </div>
                <div class="stat-item">
                    <span>üî• –í—Ä–∞–∂–¥–∞ –¶–µ—Ä–∫–≤–∏: <span id="church-hostility">0</span></span>
                </div>
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div id="text-display" class="text-box" data-text-display></div>
        <div id="choices" class="choices-box" data-choices-container></div>
        <div id="effects-layer" class="effects-layer" data-effects-layer></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) -->
    <div id="spell-modal" class="hidden">
        <div class="modal-dialog">
            <button id="close-spell-modal" class="close-button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                &times;
            </button>
            <div id="spell-choices" class="spell-grid"></div>
        </div>
    </div>

    <!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É -->
    <script type="module" src="/js/app.js"></script>
</body>
</html>